cmake_minimum_required(VERSION 3.30)
project(Vulkan_test LANGUAGES CXX VERSION 1.0.0)

# Enable debug mode
set(CMAKE_BUILD_TYPE Debug)
set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -g -O0 -Wall -Wextra")

add_library(cxx_std INTERFACE)
target_compile_features(cxx_std INTERFACE cxx_std_20)

add_executable(VulkanTest main.cpp VulkanContext.cpp Buffer.cpp Image.cpp)
target_include_directories(VulkanTest PUBLIC "glfw/include")
target_link_directories(VulkanTest PUBLIC "glfw/lib")

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

find_package(Vulkan REQUIRED)
target_link_libraries(VulkanTest PUBLIC cxx_std glfw3 Vulkan::Vulkan)
